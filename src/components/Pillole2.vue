<template>
  <div ref="pilloleId">
    <vue-glide :bullet="true" :perView="1">
      <vue-glide-slide>
        <p class="radnika grassetto">
          Sto sfruttando tutte le opportunità che provengono dai mercati
          energetici?
        </p>

        <iframe
          title="Un’opportunità per sostenere la Protezione Civile e dimezzare il costo delle forniture di energia elettrica e gas della tua azienda"
          width="100%"
          :height="`${heightYouTube}`"
          data-src="https://www.youtube.com/embed/XyYBUeUrago"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/XyYBUeUrago?autoplay=1><img src=https://img.youtube.com/vi/XyYBUeUrago/hqdefault.jpg alt='Un’opportunità per sostenere la Protezione Civile e dimezzare il costo delle forniture di energia elettrica e gas della tua azienda'><span>▶</span></a>"
        ></iframe>

        <p>
          Durante l'emergenza coranavirus i mercati sono crollati. Il tuo
          contratto di fornitura ti ha permesso di beneficiare di questa
          discesa?
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">Perchè ricevo sempre conguagli?</p>

        <iframe
          title="Conguagli elevati nella bolletta della luce? Ecco come eliminarli."
          width="100%"
          :height="`${heightYouTube}`"
          data-src="https://www.youtube.com/embed/x-44ZOc1rzo"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/x-44ZOc1rzo?autoplay=1><img src=https://img.youtube.com/vi/x-44ZOc1rzo/hqdefault.jpg alt='Conguagli elevati nella bolletta della luce? Ecco come eliminarli.'><span>▶</span></a>"
        ></iframe>

        <p>
          Ho risolto il problema di un mio Cliente che riceveva conguagli anche
          fino a 17'000€ andando ogni mese a fare l'autolettura del contatore
          elettrico.
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          L'IVA e le accise sulle forniture di energia e gas sono applicate
          correttamente?
        </p>

        <iframe
          title="Ho diritto ad agevolazioni fiscali nella bolletta della luce e del gas?"
          width="100%"
          :height="`${heightYouTube}`"
          data-src="https://www.youtube.com/embed/oAyv6FSgYXE"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/oAyv6FSgYXE?autoplay=1><img src=https://img.youtube.com/vi/oAyv6FSgYXE/hqdefault.jpg alt='Ho diritto ad agevolazioni fiscali nella bolletta della luce e del gas?'><span>▶</span></a>"
        ></iframe>

        <p>
          Un mio Cliente ha risparmiato 600€/anno grazie alla riduzione delle
          accise sul gas.
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Ci sono altre opportunità che sto perdendo?
        </p>

        <iframe
          title="Offerte 100% di energia elettrica verde: bufala o strumento di sostegno alle fonti rinnovabili?"
          width="100%"
          :height="`${heightYouTube}`"
          data-src="https://www.youtube.com/embed/ehb8KqPcTbw"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/ehb8KqPcTbw?autoplay=1><img src=https://img.youtube.com/vi/ehb8KqPcTbw/hqdefault.jpg alt='Offerte 100% di energia elettrica verde: bufala o strumento di sostegno alle fonti rinnovabili?'><span>▶</span></a>"
        ></iframe>

        <p>
          Puntare sulla sostenibilità può aiutare il tuo ristorante/hotel ad
          attrarre nuovi Clienti. Energia 100% verde certificata TUV SUD e
          mobilità elettrica sono opportunità che non puoi perdere.
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Sto sfruttando tutte le agevolazioni o opportunità che provengono da
          provvedimenti normativi?
        </p>

        <iframe
          title="Bolletta della luce: ho diritto al rimborso delle accise?"
          width="100%"
          :height="`${heightYouTube}`"
          data-src="https://www.youtube.com/embed/CfGwolf20MU"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/CfGwolf20MU?autoplay=1><img src=https://img.youtube.com/vi/CfGwolf20MU/hqdefault.jpg alt='Bolletta della luce: ho diritto al rimborso delle accise?'><span>▶</span></a>"
        ></iframe>

        <p>
          Una recente sentenza della Corte di Cassazione permette di recuperare
          le accise 2010-2011. Tu hai fatto domanda?
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Sono stufo di rivolgermi ad un call center.
        </p>

        <div class="img-container">
          <g-image
            src="~/assets/persone-in-cucina.jpg"
            style="object-fit: cover; width:100%; height: 100%"
            alt="uomo in camicia verde che indossa una maschera"
          />
        </div>
        <p>
          Con i miei Clienti comunico a quattr’occhi o tramite
          cellulare/whatsapp.
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Mesi per attivare un contatore o fare una voltura. Non ne posso più di
          questa burocrazia.
        </p>

        <div class="img-container">
          <g-image
            src="~/assets/uomo-e-donna-che-indossano-grembiuli-a-strisce-bianche-e-nere.jpg"
            style="object-fit: cover; width:100%; height: 100%"
            alt="gente vicino a una macchina industriale di metallo verde"
          />
        </div>
        <p>
          Da 4 mesi a 4 giorni. Un mio Cliente non riusciva a posare un nuovo
          contatore della luce. Erano 4 mesi che ci provava. Sono riuscito ad
          attivare il contatore in 4 giorni. Quanto vale il tuo tempo?
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Cosa posso fare per ridurre al minimo i costi di luce e gas della mia
          azienda al tempo del coronavirus?
        </p>

        <iframe
          title="Consigli per gestire al meglio la fornitura luce e gas della tua azienda al tempo del Coronavirus"
          width="100%"
          :height="`${heightYouTube}`"
          data-src="https://www.youtube.com/embed/jXbU9IJtBmQ"
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/jXbU9IJtBmQ?autoplay=1><img src=https://img.youtube.com/vi/jXbU9IJtBmQ/hqdefault.jpg alt='Consigli per gestire al meglio la fornitura luce e gas della tua azienda al tempo del Coronavirus'><span>▶</span></a>"
        ></iframe>

        <p>
          In un momento di emergenza quanto è importante avere al tuo fianco una
          persona che ti dà dei consigli pratici per ottimizzare la fornitura di
          energia elettrica e gas della tua azienda?
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Ci sono altri costi che potrei eliminare dalla bolletta della luce?
        </p>

        <div class="img-container">
          <g-image
            src="~/assets/uomo-in-piedi-accanto-al tavolo-in-possesso-di-cibo.jpg"
            style="object-fit: cover; width:100%; height: 100%"
            alt="uomo su un tavolo di taglio"
          />
        </div>
        <p>
          Penali per l’immissione in rete di energia reattiva possono avere un
          impatto economico rilevante. Il loro monitoraggio è essenziale per una
          fornitura efficiente.
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Le condizioni economiche sono allineate al mercato?
        </p>

        <div class="img-container">
          <g-image
            src="~/assets/donna-che-lavora-in-una-caffetteria.jpg"
            style="object-fit: cover; width:100%; height: 100%"
            alt="tecnico ortottico in officina"
          />
        </div>
        <p>
          E’ fondamentale per un’azienda efficiente avere condizioni economiche
          sempre allineate alle migliori condizioni di mercato, non solo durante
          il primo anno di fornitura.
        </p>
      </vue-glide-slide>

      <vue-glide-slide>
        <p class="radnika grassetto">
          Posso risparmiare ottimizzando le mie abitudini di consumo?
        </p>

        <div class="img-container">
          <g-image
            src="~/assets/chef-che-cucina-in-cucina.jpg"
            style="object-fit: cover; width:100%; height: 100%"
            alt="botti di legno marroni"
          />
        </div>
        <p>
          Le tue abitudini di consumo impattano anche su quella parte della
          bolletta della luce che riguarda oneri e tasse. Il controllo costante
          delle abitudini di consumo è fondamentale per ridurre costi e sprechi.
          E' quello che faccio con dei report periodici.
        </p>
      </vue-glide-slide>
      <template slot="control">
        <button data-glide-dir="<">
          <font-awesome :icon="['fas', 'chevron-left']" />
        </button>
        <button data-glide-dir=">">
          <font-awesome :icon="['fas', 'chevron-right']" />
        </button>
      </template>
    </vue-glide>
  </div>
</template>

<script>
import { Glide, GlideSlide } from "vue-glide-js";
import "vue-glide-js/dist/vue-glide.css";

export default {
  components: {
    [Glide.name]: Glide,
    [GlideSlide.name]: GlideSlide,
  },
  data() {
    return {
      YouTube: { height: { low: 180, high: 590 } },
      deviceWidth: 180,
    };
  },
  methods: {
    getWindowWidth(event) {
      this.deviceWidth = this.$refs.pilloleId.offsetWidth;
    },
  },
  computed: {
    heightYouTube() {
      if (this.deviceWidth < 600) {
        return this.YouTube.height.low;
      } else {
        return this.YouTube.height.high;
      }
    },
  },
  mounted() {
    this.$nextTick(function() {
      window.addEventListener("resize", this.getWindowWidth);
    });
    this.getWindowWidth();
  },
  beforeDestroy() {
    window.removeEventListener("resize", this.getWindowWidth);
  },
};
</script>

<style scoped lang="scss">
.glide {
  margin-top: 4em;
}
.img-container {
  height: 590px;
}

::v-deep .glide__bullets {
  text-align: center;
  position: absolute;
  top: -1em;
  left: 50%;
  transform: translate(-50%, -50%);

  -webkit-transform: translate(-50%, -50%);
  border-left: 0.5em solid $primaryColor;
  border-right: 0.5em solid $primaryColor;
  padding-left: 1.5em;
  padding-right: 1.5em;
  margin-top: 0em;

  width: 95%;
}

::v-deep .glide__bullet {
  background: url("~@/assets/pillola.png");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
  opacity: 0.5;

  border: 0;
  outline: none;
  width: 20px;
  height: 40px;
  border-radius: 100%;
  cursor: pointer;
}

::v-deep .glide__bullet + .glide__bullet {
  margin-left: 1px;
}

::v-deep .glide__bullet--active,
.glide__bullet--active:hover {
  opacity: 1;
}

button[data-glide-dir="<"] {
  left: 5px;
}

button[data-glide-dir=">"] {
  right: 5px;
}

button[data-glide-dir="<"],
button[data-glide-dir=">"] {
  position: absolute;
  top: 45%;
  border: 0;
  outline: 0;
  padding: 10px;
  border-radius: 3px;
  background-color: #eee;
  opacity: 0.5;
  color: #000;
  cursor: pointer;
}

button[data-glide-dir="<"]:hover,
button[data-glide-dir=">"]:hover {
  opacity: 1;
}

@media (max-width: 600px) {
  .img-container {
    height: 182px;
  }
}

@media (min-width: 340px) {
  ::v-deep .glide__bullets {
    width: 95%;
  }
  ::v-deep .glide__bullet {
    width: 25px;
    height: 50px;
  }
}

@media (min-width: 400px) {
  ::v-deep .glide__bullets {
    width: 90%;
  }
  ::v-deep .glide__bullet {
    width: 25px;
    height: 50px;
  }
}

@media (min-width: 550px) {
  ::v-deep .glide__bullets {
    width: 65%;
  }
}

@media (min-width: 650px) {
  ::v-deep .glide__bullets {
    width: 55%;
  }
}

@media (min-width: 730px) {
  ::v-deep .glide__bullet {
    width: 30px;
    height: 60px;
  }
}

@media (min-width: 1000px) {
  ::v-deep .glide__bullets {
    width: 40%;
  }
}

@media (min-width: 1300px) {
  ::v-deep .glide__bullets {
    width: 35%;
  }
}
</style>
