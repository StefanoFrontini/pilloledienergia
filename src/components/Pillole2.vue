<template>
  <div ref="pilloleId">
    <vue-glide :bullet="true" :perView="1">
      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <iframe
            title="Un’opportunità per sostenere la Protezione Civile e dimezzare il costo delle forniture di energia elettrica e gas della tua azienda"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/XyYBUeUrago"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/XyYBUeUrago?autoplay=1><img src=https://img.youtube.com/vi/XyYBUeUrago/hqdefault.jpg alt='Un’opportunità per sostenere la Protezione Civile e dimezzare il costo delle forniture di energia elettrica e gas della tua azienda'><span>▶</span></a>"
          ></iframe>
          <p>
            <span class="radnika grassetto"
              >Stai sfruttando tutte le opportunità che provengono dai mercati
              energetici?</span
            ><br />Durante l'emergenza coranavirus i mercati sono crollati. Il
            tuo contratto di fornitura ti ha permesso di beneficiare di questa
            discesa?
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <iframe
            title="Conguagli elevati nella bolletta della luce? Ecco come eliminarli."
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/x-44ZOc1rzo"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/x-44ZOc1rzo?autoplay=1><img src=https://img.youtube.com/vi/x-44ZOc1rzo/hqdefault.jpg alt='Conguagli elevati nella bolletta della luce? Ecco come eliminarli.'><span>▶</span></a>"
          ></iframe>
          <p>
            <span class="radnika grassetto"
              >Perchè ricevi sempre conguagli?</span
            ><br />Ho risolto il problema di un mio Cliente che riceveva
            conguagli anche fino a 17'000€ andando ogni mese a fare
            l'autolettura del contatore elettrico.
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />

          <iframe
            title="Ho diritto ad agevolazioni fiscali nella bolletta della luce e del gas?"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/oAyv6FSgYXE"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/oAyv6FSgYXE?autoplay=1><img src=https://img.youtube.com/vi/oAyv6FSgYXE/hqdefault.jpg alt='Ho diritto ad agevolazioni fiscali nella bolletta della luce e del gas?'><span>▶</span></a>"
          ></iframe>
          <p>
            <span class="radnika grassetto"
              >L'IVA e le accise sulle forniture di energia e gas sono applicate
              correttamente?</span
            ><br />Un mio Cliente ha risparmiato 600€/anno grazie alla riduzione
            delle accise sul gas.
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />

          <iframe
            title="Offerte 100% di energia elettrica verde: bufala o strumento di sostegno alle fonti rinnovabili?"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/ehb8KqPcTbw"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/ehb8KqPcTbw?autoplay=1><img src=https://img.youtube.com/vi/ehb8KqPcTbw/hqdefault.jpg alt='Offerte 100% di energia elettrica verde: bufala o strumento di sostegno alle fonti rinnovabili?'><span>▶</span></a>"
          ></iframe>
          <p>
            <span class="radnika grassetto"
              >Ci sono altre opportunità che stai perdendo?</span
            ><br />Puntare sulla sostenibilità può aiutare il tuo
            ristorante/hotel ad attrarre nuovi Clienti: energia 100% verde
            certificata TUV SUD e mobilità elettrica sono opportunità che non
            puoi perdere.
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <iframe
            title="Bolletta della luce: ho diritto al rimborso delle accise?"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/CfGwolf20MU"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/CfGwolf20MU?autoplay=1><img src=https://img.youtube.com/vi/CfGwolf20MU/hqdefault.jpg alt='Bolletta della luce: ho diritto al rimborso delle accise?'><span>▶</span></a>"
          ></iframe>
          <p>
            <span class="radnika grassetto"
              >Stai sfruttando tutte le agevolazioni o opportunità che
              provengono da provvedimenti normativi?</span
            ><br />Una recente sentenza della Corte di Cassazione permette di
            recuperare le accise 2010-2011. Tu hai fatto domanda?
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <g-image
            src="~/assets/persone-in-cucina.jpg"
            style="position: absolute; top: 5%;width:75%;height: 70%;border: 10px solid white;"
            alt="uomo in camicia verde che indossa una maschera"
          />

          <p style="top: 83%;">
            <span class="radnika grassetto"
              >Sei stufo di rivolgerti ad un call center?</span
            ><br />Con i miei Clienti comunico a quattr’occhi o tramite
            cellulare/whatsapp.
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <g-image
            src="~/assets/uomo-e-donna-che-indossano-grembiuli-a-strisce-bianche-e-nere.jpg"
            style="position: absolute; top: 5%;width:75%;height: 70%;border: 10px solid white;"
            alt="gente vicino a una macchina industriale di metallo verde"
          />
          <p style="top: 83%;">
            <span class="radnika grassetto"
              >Sei stanco di aspettare settimane per attivare un contatore o
              fare una voltura?</span
            ><br />Da 4 mesi a 4 giorni. Un mio Cliente non riusciva a posare un
            nuovo contatore della luce. Erano 4 mesi che ci provava. Sono
            riuscito ad attivare il contatore in 4 giorni. Quanto vale il tuo
            tempo?
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <iframe
            title="Consigli per gestire al meglio la fornitura luce e gas della tua azienda al tempo del Coronavirus"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/jXbU9IJtBmQ"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/jXbU9IJtBmQ?autoplay=1><img src=https://img.youtube.com/vi/jXbU9IJtBmQ/hqdefault.jpg alt='Consigli per gestire al meglio la fornitura luce e gas della tua azienda al tempo del Coronavirus'><span>▶</span></a>"
          ></iframe>
          <p style="top: 83%;">
            <span class="radnika grassetto"
              >Durante il coronavirus hai colto tutte le opportunità per ridurre
              al minimo i costi di luce e gas?</span
            ><br />In un momento di emergenza quanto è importante avere al tuo
            fianco una persona che ti dà dei consigli pratici per ottimizzare la
            fornitura di energia elettrica e gas della tua azienda?
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <g-image
            src="~/assets/uomo-in-piedi-accanto-al tavolo-in-possesso-di-cibo.jpg"
            style="position: absolute; top: 5%;width:75%;height: 70%;border: 10px solid white;"
            alt="uomo su un tavolo di taglio"
          />
          <p style="top: 83%;">
            <span class="radnika grassetto"
              >Ci sono altri costi che potrei eliminare dalla bolletta della
              luce?</span
            ><br />Penali per l’immissione in rete di energia reattiva possono
            avere un impatto economico rilevante. Il loro monitoraggio è
            essenziale per una fornitura efficiente.
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <g-image
            src="~/assets/donna-che-lavora-in-una-caffetteria.jpg"
            style="position: absolute; top: 5%;width:75%;height: 70%;border: 10px solid white;"
            alt="tecnico ortottico in officina"
          />
          <p style="top: 83%;">
            <span class="radnika grassetto"
              >Le condizioni economiche sono allineate al mercato?</span
            ><br />E’ fondamentale per un’azienda efficiente avere condizioni
            economiche sempre allineate alle migliori condizioni di mercato, non
            solo durante il primo anno di fornitura.
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image src="~/assets/grigio.png" alt="" />
          <g-image
            src="~/assets/chef-che-cucina-in-cucina.jpg"
            style="position: absolute; top: 5%;width:75%;height: 70%;border: 10px solid white;"
            alt="botti di legno marroni"
          />
          <p style="top: 83%;">
            <span class="radnika grassetto"
              >E' possibile risparmiare ottimizzando le tue abitudini di
              consumo?</span
            ><br />Solo attraverso report periodici è possibile far emergere
            quelle abitudini di consumo che impattano su alcune voci in fattura.
          </p>
        </div>
      </vue-glide-slide>
      <template slot="control">
        <button data-glide-dir="<">
          <font-awesome :icon="['fas', 'chevron-left']" />
        </button>
        <button data-glide-dir=">">
          <font-awesome :icon="['fas', 'chevron-right']" />
        </button>
      </template>
    </vue-glide>
  </div>
</template>

<script>
import { Glide, GlideSlide } from "vue-glide-js";
import "vue-glide-js/dist/vue-glide.css";

export default {
  components: {
    [Glide.name]: Glide,
    [GlideSlide.name]: GlideSlide,
  },
  data() {
    return {
      YouTube: { height: { low: 180, high: 590 } },
      deviceWidth: 180,
    };
  },
  methods: {
    getWindowWidth(event) {
      this.deviceWidth = this.$refs.pilloleId.offsetWidth;
    },
  },
  computed: {
    heightYouTube() {
      if (this.deviceWidth < 600) {
        return this.YouTube.height.low;
      } else {
        return this.YouTube.height.high;
      }
    },
  },
  mounted() {
    this.$nextTick(function() {
      window.addEventListener("resize", this.getWindowWidth);
    });
    this.getWindowWidth();
  },
  beforeDestroy() {
    window.removeEventListener("resize", this.getWindowWidth);
  },
};
</script>

<style scoped lang="scss">
.img {
  width: 90%;
  //height: 200px;
  margin-right: 10px;
  margin-left: 10px;
  margin-top: 20px;
  cursor: auto;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  margin: 0 auto;

  iframe {
    width: 75%;
    height: 65%;
    margin: 0 auto;
    position: absolute;
    top: 15%;
    border: 10px solid white;
  }
  p {
    position: absolute;
    top: 80%;
    width: 75%;
  }
}
.g-image {
  width: 80%;
  height: 80%;
  object-fit: cover;
  margin-top: 3em;
}

.glide {
  margin-top: 6em;
  width: 100%;
  background: #ededed;
}

.img-container {
  height: 590px;
}

::v-deep .glide__bullets {
  text-align: center;
  position: absolute;
  top: -3em;
  left: 50%;
  transform: translate(-50%, -50%);

  -webkit-transform: translate(-50%, -50%);
  border-left: 0.5em solid $primaryColor;
  border-right: 0.5em solid $primaryColor;
  padding-left: 1.5em;
  padding-right: 1.5em;
  margin-top: 0em;

  width: 95%;
}

::v-deep .glide__bullet {
  background: url("~@/assets/pillola.png");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
  opacity: 0.5;

  border: 0;
  outline: none;
  width: 20px;
  height: 40px;
  border-radius: 100%;
  cursor: pointer;
}

::v-deep .glide__bullet + .glide__bullet {
  margin-left: 1px;
}

::v-deep .glide__bullet--active,
.glide__bullet--active:hover {
  opacity: 1;
}

button[data-glide-dir="<"] {
  left: 10%;
}

button[data-glide-dir=">"] {
  right: 10%;
}

button[data-glide-dir="<"],
button[data-glide-dir=">"] {
  position: absolute;
  top: 50%;
  border: 0;
  outline: 0;
  padding: 10px;
  border-radius: 3px;
  background-color: #eee;
  opacity: 0.5;
  color: #000;
  cursor: pointer;
}

button[data-glide-dir="<"]:hover,
button[data-glide-dir=">"]:hover {
  opacity: 1;
}

@media (max-width: 600px) {
  .img-container {
    height: 182px;
  }
}

@media (min-width: 340px) {
  ::v-deep .glide__bullets {
    width: 95%;
  }
  ::v-deep .glide__bullet {
    width: 25px;
    height: 50px;
  }
}

@media (min-width: 400px) {
  ::v-deep .glide__bullets {
    width: 90%;
  }
  ::v-deep .glide__bullet {
    width: 25px;
    height: 50px;
  }
}

@media (min-width: 550px) {
  ::v-deep .glide__bullets {
    width: 65%;
  }
}

@media (min-width: 650px) {
  ::v-deep .glide__bullets {
    width: 55%;
  }
}

@media (min-width: 730px) {
  ::v-deep .glide__bullet {
    width: 30px;
    height: 60px;
  }
}

@media (min-width: 1000px) {
  ::v-deep .glide__bullets {
    width: 40%;
  }
}

@media (min-width: 1300px) {
  ::v-deep .glide__bullets {
    width: 35%;
  }
}
</style>
