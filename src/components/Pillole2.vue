<template>
  <div ref="pilloleId">
    <vue-glide :bullet="true" :perView="1">
      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <iframe
            title="Un’opportunità per sostenere la Protezione Civile e dimezzare il costo delle forniture di energia elettrica e gas della tua azienda"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/XyYBUeUrago?enablejsapi=1"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/XyYBUeUrago?autoplay=1><img src=https://img.youtube.com/vi/XyYBUeUrago/hqdefault.jpg alt='Un’opportunità per sostenere la Protezione Civile e dimezzare il costo delle forniture di energia elettrica e gas della tua azienda'><span>▶</span></a>"
          ></iframe>
          <p>
            <strong
              >Stai sfruttando tutte le opportunità che provengono dai mercati
              energetici?</strong
            >
            <!-- <br />Durante l'emergenza coranavirus i mercati sono crollati. Il
            tuo contratto di fornitura ti ha permesso di beneficiare di questa
            discesa? -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <iframe
            title="Conguagli elevati nella bolletta della luce? Ecco come eliminarli."
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/x-44ZOc1rzo?enablejsapi=1"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/x-44ZOc1rzo?autoplay=1><img src=https://img.youtube.com/vi/x-44ZOc1rzo/hqdefault.jpg alt='Conguagli elevati nella bolletta della luce? Ecco come eliminarli.'><span>▶</span></a>"
          ></iframe>
          <p>
            <strong>Perchè ricevi sempre conguagli?</strong>

            <!-- <br />Ho risolto il
            problema di un mio Cliente che riceveva conguagli anche fino a
            17'000€ andando ogni mese a fare l'autolettura del contatore
            elettrico. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />

          <iframe
            title="Ho diritto ad agevolazioni fiscali nella bolletta della luce e del gas?"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/oAyv6FSgYXE?enablejsapi=1"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/oAyv6FSgYXE?autoplay=1><img src=https://img.youtube.com/vi/oAyv6FSgYXE/hqdefault.jpg alt='Ho diritto ad agevolazioni fiscali nella bolletta della luce e del gas?'><span>▶</span></a>"
          ></iframe>
          <p>
            <strong>L'IVA e le accise sono applicate correttamente?</strong>

            <!-- <br />Un mio Cliente ha risparmiato 600€/anno grazie alla riduzione
            delle accise sul gas. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />

          <iframe
            title="Offerte 100% di energia elettrica verde: bufala o strumento di sostegno alle fonti rinnovabili?"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/ehb8KqPcTbw?enablejsapi=1"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/ehb8KqPcTbw?autoplay=1><img src=https://img.youtube.com/vi/ehb8KqPcTbw/hqdefault.jpg alt='Offerte 100% di energia elettrica verde: bufala o strumento di sostegno alle fonti rinnovabili?'><span>▶</span></a>"
          ></iframe>
          <p>
            <strong>Hai colto le opportunità della sostenibilità?</strong>

            <!-- <br />Puntare sulla sostenibilità può aiutare il tuo
            ristorante/hotel ad attrarre nuovi Clienti: energia 100% verde
            certificata TUV SUD e mobilità elettrica sono opportunità che non
            puoi perdere. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <iframe
            title="Bolletta della luce: ho diritto al rimborso delle accise?"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/CfGwolf20MU?enablejsapi=1"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/CfGwolf20MU?autoplay=1><img src=https://img.youtube.com/vi/CfGwolf20MU/hqdefault.jpg alt='Bolletta della luce: ho diritto al rimborso delle accise?'><span>▶</span></a>"
          ></iframe>
          <p>
            <strong>Stai sfruttando tutte le agevolazioni?</strong>

            <!-- <br />Una recente sentenza della Corte di Cassazione permette di
            recuperare le accise 2010-2011. Tu hai fatto domanda? -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <g-image
            class="slideImage"
            src="~/assets/persone-in-cucina.jpg"
            alt="persone in cucina"
          />

          <p>
            <strong>Sei stufo di rivolgerti ad un call center?</strong>

            <!-- <br />Con
            i miei Clienti comunico a quattr’occhi o tramite cellulare/whatsapp. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <g-image
            class="slideImage"
            src="~/assets/uomo-e-donna-che-indossano-grembiuli-a-strisce-bianche-e-nere.jpg"
            alt="uomo e donna che indossano grembiuli a strisce bianche e nere"
          />
          <p>
            <strong
              >Sei stanco di aspettare settimane per attivare un contatore o
              fare una voltura?</strong
            >

            <!-- <br />Un mio Cliente non riusciva a posare un nuovo contatore della
            luce. Erano 4 mesi che ci provava. Sono riuscito ad attivare il
            contatore in 4 giorni. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <iframe
            title="Consigli per gestire al meglio la fornitura luce e gas della tua azienda al tempo del Coronavirus"
            width="100%"
            :height="`${heightYouTube}`"
            data-src="https://www.youtube.com/embed/jXbU9IJtBmQ?enablejsapi=1"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/jXbU9IJtBmQ?autoplay=1><img src=https://img.youtube.com/vi/jXbU9IJtBmQ/hqdefault.jpg alt='Consigli per gestire al meglio la fornitura luce e gas della tua azienda al tempo del Coronavirus'><span>▶</span></a>"
          ></iframe>
          <p>
            <strong
              >Durante il coronavirus hai colto tutte le opportunità di
              risparmio?</strong
            >

            <!-- <br />In un momento di emergenza quanto è importante avere al tuo
            fianco una persona che ti dà dei consigli pratici per ottimizzare la
            fornitura di energia elettrica e gas della tua azienda? -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <g-image
            class="slideImage"
            src="~/assets/uomo-in-piedi-accanto-al tavolo-in-possesso-di-cibo.jpg"
            alt="uomo in piedi accanto al tavolo in possesso di cibo"
          />
          <p>
            <strong
              >Ci sono altri costi che potrei eliminare dalla bolletta della
              luce?</strong
            >

            <!-- <br />Penali per l’immissione in rete di energia reattiva possono
            avere un impatto economico rilevante. Il loro monitoraggio è
            essenziale per una fornitura efficiente. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <g-image
            class="slideImage"
            src="~/assets/donna-che-lavora-in-una-caffetteria.jpg"
            alt="donna che lavora in una caffetteria"
          />
          <p>
            <strong
              >Le condizioni economiche sono sempre allineate al
              mercato?</strong
            >

            <!-- <br />Molti fornitori inseriscono costi aggiuntivi il secondo anno.
            Io controllo che ciò non avvenga. -->
          </p>
        </div>
      </vue-glide-slide>

      <vue-glide-slide>
        <div class="img">
          <g-image
            src="~/assets/grigio.png"
            alt="fondo grigio"
            class="grigio"
          />
          <g-image
            class="slideImage"
            src="~/assets/chef-che-cucina-in-cucina.jpg"
            alt="chef che cucina in cucina"
          />
          <p>
            <strong
              >E’ possibile risparmiare ottimizzando le tue abitudini di
              consumo?</strong
            >

            <!-- <br />Solo attraverso report periodici è possibile far emergere
            quelle abitudini di consumo che impattano su alcune voci in fattura. -->
          </p>
        </div>
      </vue-glide-slide>
      <!-- <template slot="control">
        <button data-glide-dir="<">
          <font-awesome :icon="['fas', 'chevron-left']" />
        </button>
        <button data-glide-dir=">">
          <font-awesome :icon="['fas', 'chevron-right']" />
        </button>
      </template> -->
    </vue-glide>
  </div>
</template>

<script>
import { Glide, GlideSlide } from "vue-glide-js";
import "vue-glide-js/dist/vue-glide.css";

export default {
  components: {
    [Glide.name]: Glide,
    [GlideSlide.name]: GlideSlide,
  },
  data() {
    return {
      YouTube: { height: { low: 180, high: 590 } },
      deviceWidth: 180,
    };
  },
  methods: {
    getWindowWidth(event) {
      this.deviceWidth = this.$refs.pilloleId.offsetWidth;
    },
  },
  computed: {
    heightYouTube() {
      if (this.deviceWidth < 600) {
        return this.YouTube.height.low;
      } else {
        return this.YouTube.height.high;
      }
    },
  },
  mounted() {
    this.$nextTick(function() {
      window.addEventListener("resize", this.getWindowWidth);
    });
    this.getWindowWidth();
  },
  beforeDestroy() {
    window.removeEventListener("resize", this.getWindowWidth);
  },
};
</script>

<style scoped lang="scss">
.img {
  width: 100%;
  cursor: auto;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  margin: 0 auto;

  iframe {
    width: 90%;
    height: 60%;
    //margin: 0 auto;
    position: absolute;
    top: 10%;
    border: 10px solid white;
  }
  p {
    position: absolute;
    top: 67%;
    width: 90%;
    font-size: 0.9em;
    left: 5%;
  }

  .grigio {
    width: 100%;
    height: 100%;
    object-fit: cover;

    //margin-top: 1em;
  }
  .slideImage {
    position: absolute;
    top: 5%;
    width: 75%;
    height: 70%;
    border: 10px solid white;
  }
}

.glide {
  margin-top: 6em;
  width: 100%;
  background: #ededed;
}

.img-container {
  height: 590px;
}

::v-deep .glide__bullets {
  text-align: center;
  position: absolute;
  top: -3em;
  left: 50%;
  transform: translate(-50%, -50%);

  -webkit-transform: translate(-50%, -50%);
  border-left: 0.5em solid $primaryColor;
  border-right: 0.5em solid $primaryColor;
  /* padding-left: 1.5em;
  padding-right: 1.5em; */
  margin-top: 0em;

  width: 95%;
}

::v-deep .glide__bullet {
  background: url("~@/assets/pillola.png");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
  opacity: 0.5;

  border: 0;
  outline: none;
  width: 22px;
  height: 44px;
  border-radius: 100%;
  cursor: pointer;
  margin: 0.2em;
}

::v-deep .glide__bullet + .glide__bullet {
  margin-left: 1px;
}

::v-deep .glide__bullet--active,
.glide__bullet--active:hover {
  opacity: 1;
}
/*
button[data-glide-dir="<"] {
  left: 0%;
}

button[data-glide-dir=">"] {
  right: 0%;
}

button[data-glide-dir="<"],
button[data-glide-dir=">"] {
  position: absolute;
  top: 50%;
  border: 0;
  outline: 0;
  padding: 10px;
  border-radius: 3px;
  background-color: #eee;
  opacity: 0.5;
  color: #000;
  cursor: pointer;
}

button[data-glide-dir="<"]:hover,
button[data-glide-dir=">"]:hover {
  opacity: 1;
} */

@media (max-width: 600px) {
  .img-container {
    height: 182px;
  }
}

@media (min-width: 370px) {
  .img {
    iframe {
      height: 65%;
    }
    p {
      top: 70%;
      font-size: 0.7em;
    }
  }
  ::v-deep .glide__bullets {
    width: 95%;
  }
  ::v-deep .glide__bullet {
    width: 25px;
    height: 50px;
  }
}

@media (min-width: 400px) {
  ::v-deep .glide__bullets {
    width: 90%;
  }
  ::v-deep .glide__bullet {
    width: 25px;
    height: 50px;
  }
}

@media (min-width: 550px) {
  .img {
    p {
      font-size: 1.5em;
    }
  }
  ::v-deep .glide__bullets {
    width: 65%;
  }
}

@media (min-width: 650px) {
  .img {
    p {
      top: 73%;
    }
  }
  ::v-deep .glide__bullets {
    width: 55%;
  }
}

@media (min-width: 730px) {
  ::v-deep .glide__bullet {
    width: 30px;
    height: 60px;
  }
}

@media (min-width: 760px) {
  .img {
    width: 90%;
    iframe {
      height: 75%;

      top: 5%;
    }
    p {
      top: 78%;
    }
    .slideImage {
      width: 90%;
      height: 80%;
    }
  }
}

@media (min-width: 1000px) {
  .img {
    iframe {
      height: 78%;
    }
    p {
      top: 83%;
    }
  }
  ::v-deep .glide__bullets {
    width: 40%;
  }
}

@media (min-width: 1300px) {
  ::v-deep .glide__bullets {
    width: 35%;
  }
}
</style>
